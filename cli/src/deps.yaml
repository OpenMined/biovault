dependencies:
  - name: java
    check_running: false
    min_version: 17
    install_instructions: |
      macOS: brew install openjdk@17
      Ubuntu/Debian: sudo apt-get install openjdk-17-jdk
      RHEL/CentOS: sudo yum install java-17-openjdk
      Or download from: https://openjdk.org/
    description: Java Runtime Environment version 17+ required for Nextflow
    website: https://openjdk.org/
    environments:
      google_colab:
        install_commands:
          - apt-get update -y
          - apt-get install -y openjdk-21-jdk-headless
        verify_command: java -version
      ubuntu:
        install_commands:
          - apt-get update -y
          - apt-get install -y default-jdk-headless
        verify_command: java -version
      macos:
        install_commands:
          - brew install openjdk@17
        verify_command: java -version
      arch:
        install_commands:
          - sudo pacman -Syu --noconfirm
          - sudo pacman -S --noconfirm jdk-openjdk
        verify_command: java -version
      windows:
        install_commands:
          - winget install Microsoft.OpenJDK
        verify_command: java -version
    
  - name: docker
    check_running: true
    install_instructions: |
      Install Docker Desktop from https://www.docker.com/products/docker-desktop/
      Or via Homebrew: brew install --cask docker
    description: Container runtime for running bioinformatics workflows
    website: https://www.docker.com
    environments:
      google_colab:
        skip: true
        skip_reason: "Docker is not supported in Google Colab. Nextflow will use local executor instead."
      ubuntu:
        install_commands:
          - apt-get update -y
          - apt-get install -y --reinstall docker.io
          - systemctl enable docker || true
          - systemctl start docker || true
        verify_command: docker --version
      macos:
        install_commands:
          - brew install --cask docker
        verify_command: docker --version
      arch:
        install_commands:
          - sudo pacman -Syu --noconfirm
          - sudo pacman -S --noconfirm docker
        verify_command: docker --version
      windows:
        skip: true
        skip_reason: "Docker Desktop for Windows requires manual installation from docker.com"
    
  - name: nextflow
    check_running: false
    install_instructions: |
      Install via curl: curl -s https://get.nextflow.io | bash
      Or via Homebrew: brew install nextflow
    description: Workflow management system for bioinformatics pipelines
    website: https://get.nextflow.io
    environments:
      google_colab:
        install_commands:
          - curl -s https://get.nextflow.io | bash
          - mv nextflow /usr/local/bin/
          - chmod +x /usr/local/bin/nextflow
        verify_command: nextflow -version
      ubuntu:
        install_commands:
          - curl -s https://get.nextflow.io | bash
          - sudo mv nextflow /usr/local/bin/
          - sudo chmod +x /usr/local/bin/nextflow
        verify_command: nextflow -version
      macos:
        install_commands:
          - brew install nextflow
        verify_command: nextflow -version
      arch:
        install_commands:
          - curl -s https://get.nextflow.io | bash
          - sudo mv nextflow /usr/local/bin/
          - sudo chmod +x /usr/local/bin/nextflow
        verify_command: nextflow -version
      windows:
        install_commands:
          - powershell -Command "Invoke-WebRequest -Uri 'https://github.com/nextflow-io/nextflow/releases/latest/download/nextflow' -OutFile '$env:USERPROFILE\nextflow.exe'"
          - powershell -Command "[Environment]::SetEnvironmentVariable('PATH', \"$env:USERPROFILE;$env:PATH\", 'Process')"
        verify_command: nextflow -version
  
  - name: syftbox
    check_running: false
    install_instructions: |
      Install via curl: curl -fsSL https://syftbox.net/install.sh | sh
    description: Software tool for system analysis and reporting
    website: https://syftbox.net
    environments:
      google_colab:
        install_commands:
          - curl -fsSL https://syftbox.net/install.sh | sh -s -- --download-only
        verify_command: syftbox -v
      ubuntu:
        install_commands:
          - curl -fsSL https://syftbox.net/install.sh | sh -s -- --download-only
        verify_command: syftbox -v
      macos:
        install_commands:
          - curl -fsSL https://syftbox.net/install.sh | sh -s -- --download-only
        verify_command: syftbox -v
      arch:
        install_commands:
          - curl -fsSL https://syftbox.net/install.sh | sh -s -- --download-only
        verify_command: syftbox -v
      windows:
        skip: true
        skip_reason: "SyftBox for Windows requires manual installation from GitHub releases"
